<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For You ‚ô°</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400&family=Quicksand:wght@300;400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --blush: #f4c2c2;
    --rose: #e8a0a0;
    --deep-rose: #c97272;
    --cream: #fef6f0;
    --warm-white: #fffaf5;
    --gold: #d4a574;
    --gold-light: #e8c9a0;
    --soft-pink: #fce4e4;
    --petal: #f7d1d1;
    --text: #5a3e3e;
    --text-light: #8a6a6a;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  html {
    scroll-behavior: smooth;
    scrollbar-width: thin;
    scrollbar-color: var(--rose) var(--cream);
  }

  body {
    font-family: 'Quicksand', sans-serif;
    background: var(--cream);
    color: var(--text);
    overflow-x: hidden;
    cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20'%3E%3Ctext y='15' font-size='14'%3E‚ô°%3C/text%3E%3C/svg%3E"), auto;
  }

  /* ============ HERO SECTION ============ */
  .hero {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
    background:
      radial-gradient(ellipse at 20% 50%, rgba(244,194,194,0.4) 0%, transparent 50%),
      radial-gradient(ellipse at 80% 20%, rgba(232,160,160,0.25) 0%, transparent 50%),
      radial-gradient(ellipse at 50% 80%, rgba(212,165,116,0.15) 0%, transparent 50%),
      var(--cream);
  }

  .hero::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image:
      radial-gradient(circle at 15% 25%, var(--blush) 1px, transparent 1px),
      radial-gradient(circle at 85% 75%, var(--rose) 1px, transparent 1px),
      radial-gradient(circle at 45% 60%, var(--gold-light) 0.5px, transparent 0.5px);
    background-size: 120px 120px, 150px 150px, 80px 80px;
    opacity: 0.4;
    animation: shimmer 8s ease-in-out infinite alternate;
  }

  @keyframes shimmer {
    0% { opacity: 0.3; }
    100% { opacity: 0.55; }
  }

  .hero-content {
    text-align: center;
    z-index: 2;
    position: relative;
    padding: 2rem;
  }

  .hero-top-text {
    font-family: 'Quicksand', sans-serif;
    font-weight: 300;
    font-size: 0.95rem;
    letter-spacing: 0.35em;
    text-transform: uppercase;
    color: var(--deep-rose);
    opacity: 0;
    animation: fadeUp 1s ease 0.3s forwards;
  }

  .hero-title {
    font-family: 'Cormorant Garamond', serif;
    font-weight: 300;
    font-size: clamp(3.5rem, 10vw, 8rem);
    line-height: 1.1;
    color: var(--text);
    margin: 0.3em 0 0.15em;
    opacity: 0;
    animation: fadeUp 1.2s ease 0.6s forwards;
  }

  .hero-title em {
    font-style: italic;
    color: var(--deep-rose);
    position: relative;
  }

  .hero-title em::after {
    content: '';
    position: absolute;
    bottom: 0.05em;
    left: -0.05em;
    right: -0.05em;
    height: 0.08em;
    background: linear-gradient(90deg, var(--gold-light), var(--gold), var(--gold-light));
    border-radius: 1em;
    opacity: 0.6;
  }

  .hero-subtitle {
    font-family: 'Cormorant Garamond', serif;
    font-weight: 300;
    font-style: italic;
    font-size: clamp(1.1rem, 2.5vw, 1.5rem);
    color: var(--text-light);
    opacity: 0;
    animation: fadeUp 1s ease 1s forwards;
  }

  .hero-heart {
    margin-top: 2.5rem;
    opacity: 0;
    animation: fadeUp 1s ease 1.4s forwards;
  }

  .hero-heart svg {
    width: 40px;
    height: 40px;
    fill: var(--rose);
    animation: heartbeat 1.8s ease-in-out infinite;
    filter: drop-shadow(0 2px 8px rgba(201,114,114,0.3));
  }

  @keyframes heartbeat {
    0%, 100% { transform: scale(1); }
    15% { transform: scale(1.15); }
    30% { transform: scale(1); }
    45% { transform: scale(1.1); }
  }

  .scroll-hint {
    position: absolute;
    bottom: 2.5rem;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    opacity: 0;
    animation: fadeUp 1s ease 2s forwards;
  }

  .scroll-hint span {
    font-size: 0.7rem;
    letter-spacing: 0.3em;
    text-transform: uppercase;
    color: var(--text-light);
  }

  .scroll-hint .arrow {
    width: 20px;
    height: 20px;
    border-right: 1.5px solid var(--rose);
    border-bottom: 1.5px solid var(--rose);
    transform: rotate(45deg);
    animation: bounce 2s ease infinite;
  }

  @keyframes bounce {
    0%, 60%, 100% { transform: rotate(45deg) translateY(0); }
    30% { transform: rotate(45deg) translateY(6px); }
  }

  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(25px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* ============ FLOATING HEARTS ============ */
  .floating-hearts {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 0;
    overflow: hidden;
  }

  .floating-heart {
    position: absolute;
    bottom: -30px;
    opacity: 0;
    animation: floatUp linear forwards;
    filter: blur(0.5px);
  }

  @keyframes floatUp {
    0% { opacity: 0; transform: translateY(0) rotate(0deg) scale(0.5); }
    10% { opacity: 0.6; }
    90% { opacity: 0.4; }
    100% { opacity: 0; transform: translateY(-110vh) rotate(360deg) scale(1); }
  }

  /* ============ LETTER SECTION ============ */
  .letter-section {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 4rem 2rem;
    position: relative;
    background:
      radial-gradient(ellipse at 70% 30%, rgba(244,194,194,0.2) 0%, transparent 50%),
      var(--warm-white);
  }

  .envelope-container {
    perspective: 800px;
    cursor: pointer;
    position: relative;
  }

  .envelope {
    width: min(500px, 85vw);
    background: linear-gradient(145deg, #fef0e0, #fde8d0);
    border-radius: 4px;
    padding: 3rem 2.5rem;
    box-shadow:
      0 2px 20px rgba(201,114,114,0.12),
      0 8px 40px rgba(0,0,0,0.06),
      inset 0 1px 0 rgba(255,255,255,0.5);
    position: relative;
    transform: rotateX(0deg);
    transition: transform 0.6s ease, box-shadow 0.6s ease;
  }

  .envelope:hover {
    transform: rotateX(-2deg) translateY(-4px);
    box-shadow:
      0 4px 30px rgba(201,114,114,0.18),
      0 12px 50px rgba(0,0,0,0.08),
      inset 0 1px 0 rgba(255,255,255,0.5);
  }

  .envelope::before {
    content: '';
    position: absolute;
    top: 0; left: 0;
    width: 100%;
    height: 3px;
    background: linear-gradient(90deg, var(--gold-light), var(--gold), var(--deep-rose), var(--gold), var(--gold-light));
    border-radius: 4px 4px 0 0;
  }

  .wax-seal {
    position: absolute;
    top: -18px;
    left: 50%;
    transform: translateX(-50%);
    width: 36px;
    height: 36px;
    background: radial-gradient(circle at 40% 35%, #e08a8a, #c06060);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 10px rgba(150,60,60,0.3), inset 0 -1px 3px rgba(0,0,0,0.15);
    z-index: 3;
    transition: transform 0.3s ease;
  }

  .envelope:hover .wax-seal {
    transform: translateX(-50%) scale(1.08);
  }

  .wax-seal span {
    color: rgba(255,255,255,0.85);
    font-family: 'Cormorant Garamond', serif;
    font-size: 1rem;
    font-weight: 600;
    margin-top: -1px;
  }

  .letter-date {
    font-size: 0.75rem;
    color: var(--text-light);
    letter-spacing: 0.2em;
    text-transform: uppercase;
    margin-bottom: 1.5rem;
  }

  .letter-greeting {
    font-family: 'Cormorant Garamond', serif;
    font-size: 1.6rem;
    font-style: italic;
    color: var(--deep-rose);
    margin-bottom: 1.2rem;
  }

  .letter-body {
    font-family: 'Cormorant Garamond', serif;
    font-size: 1.15rem;
    line-height: 1.85;
    color: var(--text);
  }

  .letter-body .typewriter {
    display: inline;
    border-right: 2px solid var(--rose);
    animation: blink 0.8s step-end infinite;
  }

  @keyframes blink {
    50% { border-color: transparent; }
  }

  .letter-closing {
    font-family: 'Cormorant Garamond', serif;
    font-style: italic;
    font-size: 1.3rem;
    color: var(--deep-rose);
    margin-top: 1.5rem;
    text-align: right;
    opacity: 0;
    transition: opacity 0.8s ease 0.5s;
  }

  .letter-closing.visible {
    opacity: 1;
  }

  /* ============ REASONS SECTION ============ */
  .reasons-section {
    min-height: 100vh;
    padding: 6rem 2rem;
    background:
      radial-gradient(ellipse at 30% 70%, rgba(244,194,194,0.3) 0%, transparent 50%),
      var(--cream);
    text-align: center;
  }

  .section-label {
    font-family: 'Quicksand', sans-serif;
    font-weight: 300;
    font-size: 0.8rem;
    letter-spacing: 0.4em;
    text-transform: uppercase;
    color: var(--deep-rose);
    margin-bottom: 0.5rem;
  }

  .section-title {
    font-family: 'Cormorant Garamond', serif;
    font-weight: 300;
    font-size: clamp(2rem, 5vw, 3.5rem);
    color: var(--text);
    margin-bottom: 3rem;
  }

  .reasons-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    max-width: 900px;
    margin: 0 auto;
  }

  .reason-card {
    background: linear-gradient(135deg, rgba(255,255,255,0.8), rgba(254,246,240,0.9));
    backdrop-filter: blur(10px);
    border: 1px solid rgba(244,194,194,0.3);
    border-radius: 16px;
    padding: 2rem 1.5rem;
    text-align: center;
    opacity: 0;
    transform: translateY(40px) scale(0.95);
    transition: all 0.7s cubic-bezier(0.16, 1, 0.3, 1);
    cursor: default;
    position: relative;
    overflow: hidden;
  }

  .reason-card.visible {
    opacity: 1;
    transform: translateY(0) scale(1);
  }

  .reason-card:hover {
    transform: translateY(-6px) scale(1.02);
    box-shadow: 0 12px 40px rgba(201,114,114,0.15);
    border-color: var(--rose);
  }

  .reason-card::before {
    content: '';
    position: absolute;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle at var(--mx, 50%) var(--my, 50%), rgba(244,194,194,0.25) 0%, transparent 60%);
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s;
  }

  .reason-card:hover::before {
    opacity: 1;
  }

  .reason-emoji {
    font-size: 2.2rem;
    margin-bottom: 0.8rem;
    display: inline-block;
    transition: transform 0.3s ease;
  }

  .reason-card:hover .reason-emoji {
    transform: scale(1.2) rotate(-5deg);
  }

  .reason-text {
    font-family: 'Cormorant Garamond', serif;
    font-size: 1.1rem;
    line-height: 1.6;
    color: var(--text);
  }

  /* ============ HEARTS GALLERY SECTION ============ */
  .gallery-section {
    min-height: 80vh;
    padding: 6rem 2rem;
    background:
      radial-gradient(ellipse at 60% 40%, rgba(212,165,116,0.15) 0%, transparent 50%),
      var(--warm-white);
    text-align: center;
  }

  .polaroid-grid {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 2rem;
    max-width: 900px;
    margin: 0 auto;
  }

  .polaroid {
    background: white;
    padding: 12px 12px 40px;
    border-radius: 3px;
    box-shadow:
      0 2px 15px rgba(0,0,0,0.08),
      0 5px 30px rgba(0,0,0,0.04);
    transform: rotate(var(--rotate, -2deg));
    transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
    cursor: pointer;
    opacity: 0;
    position: relative;
  }

  .polaroid.visible {
    opacity: 1;
  }

  .polaroid:hover {
    transform: rotate(0deg) scale(1.08) translateY(-8px);
    box-shadow: 0 15px 50px rgba(201,114,114,0.2);
    z-index: 10;
  }

  .polaroid-img {
    width: 200px;
    height: 200px;
    object-fit: cover;
    background: linear-gradient(135deg, var(--soft-pink), var(--petal), var(--blush));
    border-radius: 2px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 3rem;
  }

  .polaroid-caption {
    font-family: 'Cormorant Garamond', serif;
    font-style: italic;
    font-size: 0.95rem;
    color: var(--text-light);
    margin-top: 10px;
    text-align: center;
  }

  /* ============ SONG SECTION ============ */
  .song-section {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 5rem 2rem;
    position: relative;
    background:
      radial-gradient(ellipse at 40% 60%, rgba(90,62,62,0.06) 0%, transparent 50%),
      radial-gradient(ellipse at 60% 40%, rgba(212,165,116,0.12) 0%, transparent 50%),
      var(--warm-white);
    text-align: center;
    overflow: hidden;
  }

  /* --- Vinyl Player --- */
  .vinyl-player {
    position: relative;
    width: min(380px, 82vw);
    height: min(380px, 82vw);
    margin: 2rem 0 2.5rem;
    opacity: 0;
    transform: translateY(30px);
    transition: all 1s ease;
  }

  .vinyl-player.visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* Player base / cabinet */
  .player-base {
    position: absolute;
    inset: 0;
    border-radius: 20px;
    background: linear-gradient(145deg, #3a2a2a, #2a1c1c 40%, #1e1414);
    box-shadow:
      0 15px 50px rgba(0,0,0,0.35),
      0 5px 20px rgba(0,0,0,0.2),
      inset 0 1px 0 rgba(255,255,255,0.06),
      inset 0 -1px 0 rgba(0,0,0,0.3);
  }

  /* Subtle wood grain */
  .player-base::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 20px;
    background:
      repeating-linear-gradient(92deg,
        transparent, transparent 18px,
        rgba(255,255,255,0.012) 18px, rgba(255,255,255,0.012) 20px);
    pointer-events: none;
  }

  /* Inner felt area */
  .player-felt {
    position: absolute;
    top: 20px; left: 20px; right: 20px; bottom: 20px;
    border-radius: 14px;
    background: linear-gradient(135deg, #1a1212, #150e0e);
    box-shadow: inset 0 2px 8px rgba(0,0,0,0.5);
  }

  /* Vinyl record */
  .vinyl-record {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 78%;
    height: 78%;
    transform: translate(-50%, -50%);
    border-radius: 50%;
    background:
      radial-gradient(circle,
        #1a1a1a 18%,
        transparent 18.5%,
        transparent 19%,
        #1a1a1a 19.5%),
      radial-gradient(circle,
        transparent 22%,
        #111 22.5%,
        #111 23%,
        transparent 23.5%),
      radial-gradient(circle,
        transparent 38%,
        rgba(40,40,40,0.5) 38.5%,
        rgba(40,40,40,0.5) 39%,
        transparent 39.5%),
      radial-gradient(circle,
        transparent 52%,
        rgba(40,40,40,0.4) 52.5%,
        rgba(40,40,40,0.4) 53%,
        transparent 53.5%),
      radial-gradient(circle,
        transparent 66%,
        rgba(40,40,40,0.3) 66.5%,
        rgba(40,40,40,0.3) 67%,
        transparent 67.5%),
      radial-gradient(circle,
        transparent 80%,
        rgba(40,40,40,0.3) 80.5%,
        rgba(40,40,40,0.3) 81%,
        transparent 81.5%),
      conic-gradient(from 0deg,
        #1a1a1a, #222, #1a1a1a, #252525, #1a1a1a, #222, #1a1a1a, #252525, #1a1a1a);
    box-shadow:
      0 0 0 3px #111,
      0 0 20px rgba(0,0,0,0.5),
      inset 0 0 30px rgba(0,0,0,0.3);
    animation: none;
    transition: none;
  }

  .vinyl-record.spinning {
    animation: spin 2.5s linear infinite;
  }

  .vinyl-record.paused {
    animation-play-state: paused;
  }

  @keyframes spin {
    from { transform: translate(-50%, -50%) rotate(0deg); }
    to { transform: translate(-50%, -50%) rotate(360deg); }
  }

  /* Label */
  .vinyl-label {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 32%;
    height: 32%;
    transform: translate(-50%, -50%);
    border-radius: 50%;
    background:
      radial-gradient(circle,
        #5a3e3e 8%, transparent 9%),
      radial-gradient(circle at 45% 42%,
        rgba(255,255,255,0.1) 0%, transparent 30%),
      linear-gradient(135deg, var(--deep-rose), #a84040 40%, var(--deep-rose) 70%, #8a3030);
    box-shadow: inset 0 1px 3px rgba(0,0,0,0.3);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    pointer-events: none;
  }

  .vinyl-label-text {
    font-family: 'Quicksand', sans-serif;
    font-size: 0.55rem;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    color: rgba(255,255,255,0.75);
    margin-top: 2px;
  }

  .vinyl-label-title {
    font-family: 'Cormorant Garamond', serif;
    font-style: italic;
    font-size: 0.75rem;
    color: rgba(255,255,255,0.9);
    margin-top: 1px;
  }

  /* Tonearm */
  .tonearm {
    position: absolute;
    top: 12%;
    right: 12%;
    width: 40%;
    height: 50%;
    transform-origin: 78% 8%;
    transform: rotate(-22deg);
    transition: transform 1s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 5;
    pointer-events: none;
  }

  .tonearm.playing {
    transform: rotate(0deg);
  }

  .tonearm svg {
    width: 100%;
    height: 100%;
    filter: drop-shadow(0 2px 6px rgba(0,0,0,0.4));
  }

  /* Play button */
  .play-btn {
    position: absolute;
    bottom: -28px;
    left: 50%;
    transform: translateX(-50%);
    width: 56px;
    height: 56px;
    border-radius: 50%;
    border: 2px solid var(--rose);
    background: linear-gradient(135deg, rgba(254,246,240,0.95), rgba(244,194,194,0.3));
    backdrop-filter: blur(10px);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    box-shadow: 0 4px 20px rgba(201,114,114,0.2);
    z-index: 10;
  }

  .play-btn:hover {
    transform: translateX(-50%) scale(1.1);
    border-color: var(--deep-rose);
    box-shadow: 0 6px 28px rgba(201,114,114,0.35);
  }

  .play-btn:active {
    transform: translateX(-50%) scale(0.95);
  }

  .play-btn svg {
    width: 22px;
    height: 22px;
    fill: var(--deep-rose);
    transition: all 0.2s ease;
  }

  /* Play icon shift for visual centering */
  .play-btn .icon-play {
    margin-left: 3px;
  }

  .song-info {
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.8s ease 0.3s;
  }

  .song-info.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .song-title {
    font-family: 'Cormorant Garamond', serif;
    font-style: italic;
    font-size: clamp(1.2rem, 3vw, 1.6rem);
    color: var(--text);
    margin-bottom: 0.3rem;
  }

  .song-artist {
    font-family: 'Quicksand', sans-serif;
    font-weight: 300;
    font-size: 0.85rem;
    color: var(--text-light);
    letter-spacing: 0.1em;
  }

  .song-dedication {
    font-family: 'Cormorant Garamond', serif;
    font-style: italic;
    font-size: 1rem;
    color: var(--deep-rose);
    margin-top: 1rem;
    opacity: 0;
    transform: translateY(15px);
    transition: all 0.8s ease 0.6s;
  }

  .song-dedication.visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* ============ FINAL SECTION ============ */
  .final-section {
    min-height: 60vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 4rem 2rem;
    position: relative;
    background:
      radial-gradient(ellipse at 50% 50%, rgba(244,194,194,0.3) 0%, transparent 60%),
      var(--cream);
    text-align: center;
  }

  .final-text {
    font-family: 'Cormorant Garamond', serif;
    font-weight: 300;
    font-size: clamp(2.5rem, 7vw, 5rem);
    color: var(--text);
    line-height: 1.2;
    opacity: 0;
    transform: translateY(30px);
    transition: all 1s ease;
  }

  .final-text.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .final-text em {
    font-style: italic;
    color: var(--deep-rose);
  }

  .final-subtext {
    font-family: 'Quicksand', sans-serif;
    font-weight: 300;
    font-size: 0.9rem;
    letter-spacing: 0.25em;
    color: var(--text-light);
    margin-top: 1.5rem;
    opacity: 0;
    transform: translateY(20px);
    transition: all 1s ease 0.3s;
  }

  .final-subtext.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .big-heart-container {
    margin-top: 2rem;
    opacity: 0;
    transform: scale(0.5);
    transition: all 1s cubic-bezier(0.16, 1, 0.3, 1) 0.5s;
  }

  .big-heart-container.visible {
    opacity: 1;
    transform: scale(1);
  }

  .big-heart-container svg {
    width: 80px;
    height: 80px;
    fill: var(--rose);
    animation: heartbeat 1.8s ease-in-out infinite;
    filter: drop-shadow(0 4px 20px rgba(201,114,114,0.35));
  }

  /* ============ PETAL RAIN ============ */
  .petal {
    position: fixed;
    pointer-events: none;
    z-index: 999;
    opacity: 0;
    animation: petalFall linear forwards;
  }

  @keyframes petalFall {
    0% { opacity: 0; transform: translateY(-20px) rotate(0deg) translateX(0); }
    10% { opacity: 0.7; }
    90% { opacity: 0.5; }
    100% { opacity: 0; transform: translateY(100vh) rotate(720deg) translateX(80px); }
  }

  /* ============ CLICK HEARTS ============ */
  .click-heart {
    position: fixed;
    pointer-events: none;
    z-index: 1000;
    animation: clickPop 0.8s ease forwards;
    font-size: 1.2rem;
  }

  @keyframes clickPop {
    0% { opacity: 1; transform: scale(0) translateY(0); }
    50% { opacity: 1; transform: scale(1.3) translateY(-20px); }
    100% { opacity: 0; transform: scale(0.8) translateY(-50px); }
  }

  /* ============ BOUQUET MODAL ============ */
  .bouquet-overlay {
    position: fixed;
    inset: 0;
    z-index: 9999;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.4s ease, visibility 0.4s ease;
  }

  .bouquet-overlay.active {
    opacity: 1;
    visibility: visible;
  }

  .bouquet-backdrop {
    position: absolute;
    inset: 0;
    background: rgba(90, 62, 62, 0.35);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    cursor: pointer;
  }

  .bouquet-overlay.active .bouquet-backdrop {
    animation: backdropIn 0.5s ease forwards;
  }

  @keyframes backdropIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  .bouquet-card {
    position: relative;
    z-index: 2;
    width: min(650px, 94vw);
    height: min(780px, 90vh);
    background: linear-gradient(170deg, #fffaf5, #fef0e0 40%, #fce4e4 100%);
    border-radius: 24px;
    box-shadow:
      0 25px 80px rgba(201,114,114,0.25),
      0 8px 30px rgba(0,0,0,0.1),
      inset 0 1px 0 rgba(255,255,255,0.7);
    overflow: hidden;
    transform: scale(0.6);
    opacity: 0;
    transition: transform 0.6s cubic-bezier(0.16, 1, 0.3, 1), opacity 0.4s ease;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  .bouquet-overlay.active .bouquet-card {
    transform: scale(1);
    opacity: 1;
  }

  .bouquet-card::before {
    content: '';
    position: absolute;
    inset: 0;
    background:
      radial-gradient(ellipse at 30% 70%, rgba(200,50,50,0.06) 0%, transparent 50%),
      radial-gradient(ellipse at 70% 30%, rgba(220,100,120,0.06) 0%, transparent 50%);
    pointer-events: none;
  }

  .bouquet-close {
    position: absolute;
    top: 16px;
    right: 16px;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    border: 1.5px solid var(--rose);
    background: rgba(255,255,255,0.7);
    backdrop-filter: blur(6px);
    color: var(--deep-rose);
    font-size: 1.1rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    z-index: 10;
  }

  .bouquet-close:hover {
    background: var(--rose);
    color: white;
    transform: rotate(90deg);
  }

  .bouquet-title {
    font-family: 'Cormorant Garamond', serif;
    font-weight: 300;
    font-style: italic;
    font-size: clamp(1.3rem, 3vw, 1.8rem);
    color: var(--deep-rose);
    z-index: 5;
    position: absolute;
    bottom: 35px;
    text-align: center;
    opacity: 0;
    transform: translateY(10px);
    pointer-events: none;
  }

  .bouquet-overlay.active .bouquet-title {
    animation: fadeUp 0.8s ease 2.2s forwards;
  }

  .bouquet-subtitle {
    font-family: 'Quicksand', sans-serif;
    font-size: 0.75rem;
    letter-spacing: 0.3em;
    text-transform: uppercase;
    color: var(--text-light);
    z-index: 5;
    position: absolute;
    bottom: 18px;
    opacity: 0;
    transform: translateY(10px);
    pointer-events: none;
  }

  .bouquet-overlay.active .bouquet-subtitle {
    animation: fadeUp 0.8s ease 2.6s forwards;
  }

  /* ---- Bouquet scene ---- */
  .bouquet-scene {
    position: relative;
    width: 460px;
    height: 560px;
    max-width: 92vw;
    max-height: 70vh;
  }

  /* ---- Wrapping paper ---- */
  .bouquet-wrap {
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 320px;
    height: 260px;
    opacity: 0;
    z-index: 2;
  }

  .bouquet-overlay.active .bouquet-wrap {
    animation: wrapAppear 0.8s cubic-bezier(0.16, 1, 0.3, 1) 0.2s forwards;
  }

  @keyframes wrapAppear {
    from { opacity: 0; transform: translateX(-50%) scale(0.5) translateY(40px); }
    to { opacity: 1; transform: translateX(-50%) scale(1) translateY(0); }
  }

  .wrap-body {
    width: 100%;
    height: 100%;
    position: relative;
  }

  .wrap-body svg { width: 100%; height: 100%; }

  /* ---- Individual flower ---- */
  .bouquet-flower {
    position: absolute;
    transform-origin: bottom center;
    opacity: 0;
    transform: scale(0) rotate(var(--rot, 0deg));
  }

  .bouquet-overlay.active .bouquet-flower {
    animation: flowerBloom 1s cubic-bezier(0.16, 1, 0.3, 1) var(--delay, 0.5s) forwards;
  }

  @keyframes flowerBloom {
    0% { opacity: 0; transform: scale(0) rotate(var(--rot, 0deg)) translateY(20px); }
    60% { opacity: 1; transform: scale(1.1) rotate(var(--rot, 0deg)) translateY(-5px); }
    100% { opacity: 1; transform: scale(1) rotate(var(--rot, 0deg)) translateY(0); }
  }

  /* Gentle idle sway for bloomed flowers ‚Äî keep visible */
  .bouquet-overlay.active .bouquet-flower.bloomed {
    opacity: 1;
    animation: flowerSway 3s ease-in-out infinite alternate;
  }

  @keyframes flowerSway {
    0% { transform: scale(1) rotate(calc(var(--rot, 0deg) - 1.5deg)); }
    100% { transform: scale(1) rotate(calc(var(--rot, 0deg) + 1.5deg)); }
  }

  /* ---- Leaves ---- */
  .bouquet-leaf {
    position: absolute;
    transform-origin: bottom center;
    opacity: 0;
    transform: scale(0) rotate(var(--rot, 0deg));
  }

  .bouquet-overlay.active .bouquet-leaf {
    animation: leafGrow 0.8s cubic-bezier(0.16, 1, 0.3, 1) var(--delay, 0.4s) forwards;
  }

  @keyframes leafGrow {
    0% { opacity: 0; transform: scale(0) rotate(var(--rot, 0deg)); }
    100% { opacity: 1; transform: scale(1) rotate(var(--rot, 0deg)); }
  }

  /* ---- Sparkles ---- */
  .bouquet-sparkle {
    position: absolute;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: var(--gold-light);
    opacity: 0;
    pointer-events: none;
  }

  .bouquet-overlay.active .bouquet-sparkle {
    animation: sparkle 1.5s ease var(--delay, 2s) infinite;
  }

  @keyframes sparkle {
    0%, 100% { opacity: 0; transform: scale(0); }
    50% { opacity: 0.8; transform: scale(1); }
  }

  /* ---- Burst petals on open ---- */
  .burst-petal {
    position: absolute;
    border-radius: 50% 0 50% 50%;
    opacity: 0;
    pointer-events: none;
  }

  .bouquet-overlay.active .burst-petal {
    animation: burstOut 1.8s cubic-bezier(0.16, 1, 0.3, 1) var(--delay, 0.3s) forwards;
  }

  @keyframes burstOut {
    0% { opacity: 0; transform: translate(0,0) rotate(0deg) scale(0); }
    20% { opacity: 0.8; }
    100% { opacity: 0; transform: translate(var(--tx, 50px), var(--ty, -80px)) rotate(var(--tr, 360deg)) scale(1); }
  }

  /* ============ RESPONSIVE ============ */
  @media (max-width: 600px) {
    .envelope { padding: 2rem 1.5rem; }
    .polaroid-img { width: 150px; height: 150px; }
    .reasons-grid { grid-template-columns: 1fr; }
    .bouquet-scene { width: 340px; height: 450px; }
    .bouquet-wrap { width: 260px; height: 220px; }
  }
</style>
</head>
<body>

<!-- Floating hearts background -->
<div class="floating-hearts" id="floatingHearts"></div>

<!-- ====== HERO ====== -->
<section class="hero">
  <div class="hero-content">
    <p class="hero-top-text">My Dear Sayastha</p>
    <h1 class="hero-title">Happy <em>Valentine's</em><br>Day!!!</h1>
    <p class="hero-subtitle">you make every day brighter, I can't wait for a lifetime with you my loveee</p>
    <div class="hero-heart">
      <svg viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
    </div>
  </div>
  <div class="scroll-hint">
    <span>scroll</span>
    <div class="arrow"></div>
  </div>
</section>

<!-- ====== LOVE LETTER ====== -->
<section class="letter-section">
  <div class="envelope-container">
    <div class="envelope" id="envelope">
      <div class="wax-seal"><span>‚ô°</span></div>
      <div class="letter-date">February 14, 2026</div>
      <div class="letter-greeting">Dearest Sayastha,</div>
      <div class="letter-body" id="letterBody"></div>
      <div class="letter-closing" id="letterClosing">
        Forever your husband, Matthew ‚ô°
      </div>
    </div>
  </div>
</section>

<!-- ====== REASONS I LOVE YOU ====== -->
<section class="reasons-section">
  <p class="section-label">a few of many</p>
  <h2 class="section-title">Reasons I Love You</h2>
  <div class="reasons-grid" id="reasonsGrid">
    <div class="reason-card">
      <div class="reason-emoji">üí´</div>
      <div class="reason-text">The way you laugh at the smallest things and make the whole world feel lighter</div>
    </div>
    <div class="reason-card">
      <div class="reason-emoji">üåô</div>
      <div class="reason-text">How you make even the most ordinary moments feel like something worth remembering</div>
    </div>
    <div class="reason-card">
      <div class="reason-emoji">üå∏</div>
      <div class="reason-text">Your kindness ‚Äî the way you care about everyone around you without even trying</div>
    </div>
    <div class="reason-card">
      <div class="reason-emoji">‚òÄÔ∏è</div>
      <div class="reason-text">The way you look at me like I'm your favourite person in the whole world</div>
    </div>
    <div class="reason-card">
      <div class="reason-emoji">üß∏</div>
      <div class="reason-text">How safe and at home I feel whenever I'm with you ‚Äî that's my favourite place</div>
    </div>
    <div class="reason-card">
      <div class="reason-emoji">‚ú®</div>
      <div class="reason-text">You make me want to be better, just by being the incredible person you are</div>
    </div>
  </div>
</section>

<!-- ====== PHOTO MEMORIES ====== -->
<section class="gallery-section">
  <h2 class="section-title">Our Little Gallery</h2>
  <div class="polaroid-grid" id="polaroidGrid">
    <div class="polaroid" style="--rotate: -3deg;">
    
       <img class="polaroid-img" src="nye.JPG">

      <div class="polaroid-caption">our first New Year's</div>
    </div>
    <div class="polaroid" style="--rotate: 2deg;">
<video class="polaroid-img" src="cheungchau.mp4" autoplay loop muted playsinline></video>
      
      <div class="polaroid-caption">that cheung chau dayyyy</div>
    </div>
    <div class="polaroid" style="--rotate: -1deg;">
   <img class="polaroid-img" src="sanya.JPG" style="--rotate: -90deg;">
      <div class="polaroid-caption">our sanya surprise</div>
    </div>
    <div class="polaroid" id="flowerPolaroid" style="--rotate: 3deg;">
      <div class="polaroid-img">üíê</div>
      <div class="polaroid-caption">just because flowers</div>
    </div>
  </div>
</section>

<!-- ====== BOUQUET MODAL ====== -->
<div class="bouquet-overlay" id="bouquetOverlay">
  <div class="bouquet-backdrop" id="bouquetBackdrop"></div>
  <div class="bouquet-card">
    <button class="bouquet-close" id="bouquetClose">‚úï</button>
    <div class="bouquet-scene" id="bouquetScene"></div>
    <div class="bouquet-title">a bouquet, just for you üåπ</div>
    <div class="bouquet-subtitle">because you deserve flowers every day</div>
  </div>
</div>

<!-- ====== SONG DEDICATION ====== -->
<section class="song-section">
  <p class="section-label">our song</p>
  <h2 class="section-title">A Song For You</h2>

  <div class="vinyl-player" id="vinylPlayer">
    <div class="player-base"></div>
    <div class="player-felt"></div>

    <div class="vinyl-record" id="vinylRecord">
      <div class="vinyl-label">
        <span class="vinyl-label-text">‚ô° for you my love ‚ô°</span>
        <span class="vinyl-label-title">M + S</span>
      </div>
    </div>

    <!-- Tonearm -->
    <div class="tonearm" id="tonearm">
      <svg viewBox="0 0 160 200" xmlns="http://www.w3.org/2000/svg">
        <!-- Pivot base -->
        <circle cx="125" cy="16" r="14" fill="#888" opacity="0.6"/>
        <circle cx="125" cy="16" r="9" fill="#aaa" opacity="0.7"/>
        <circle cx="125" cy="16" r="5" fill="#ccc"/>
        <!-- Arm -->
        <rect x="30" y="12" width="100" height="7" rx="3" fill="linear-gradient(#bbb,#999)"
          transform="rotate(2 80 16)"/>
        <rect x="30" y="12" width="100" height="7" rx="3" fill="#aaa" opacity="0.9"
          transform="rotate(2 80 16)"/>
        <!-- Highlight on arm -->
        <rect x="35" y="13" width="90" height="2.5" rx="1" fill="#ccc" opacity="0.5"
          transform="rotate(2 80 16)"/>
        <!-- Head shell -->
        <rect x="8" y="10" width="28" height="10" rx="2" fill="#999"
          transform="rotate(2 22 16)"/>
        <rect x="8" y="11" width="28" height="4" rx="1" fill="#bbb" opacity="0.4"
          transform="rotate(2 22 16)"/>
        <!-- Cartridge -->
        <rect x="10" y="20" width="8" height="5" rx="1" fill="#666"
          transform="rotate(2 14 22)"/>
        <!-- Stylus -->
        <line x1="14" y1="25" x2="14" y2="30" stroke="#555" stroke-width="1"
          transform="rotate(2 14 28)"/>
        <!-- Counterweight -->
        <circle cx="140" cy="15" r="7" fill="#888"/>
        <circle cx="140" cy="15" r="5" fill="#999"/>
        <circle cx="140" cy="14" r="2.5" fill="#bbb" opacity="0.4"/>
      </svg>
    </div>

    <!-- Play / Pause button -->
    <button class="play-btn" id="playBtn" aria-label="Play song">
      <svg class="icon-play" id="playIcon" viewBox="0 0 24 24"><polygon points="6,3 20,12 6,21"/></svg>
      <svg class="icon-pause" id="pauseIcon" viewBox="0 0 24 24" style="display:none;">
        <rect x="5" y="3" width="5" height="18" rx="1"/>
        <rect x="14" y="3" width="5" height="18" rx="1"/>
      </svg>
    </button>
  </div>

  <audio id="songAudio" loop preload="auto">
    <source src="song.mp3" type="audio/mpeg">
  </audio>

  <div class="song-info" id="songInfo">
    <div class="song-title">Can't Take My Eyes Off You</div>
    <div class="song-artist">Frankie Valli</div>
  </div>
  <div class="song-dedication" id="songDedication">
    "You make me feel this way everytime I see you"
  </div>
</section>

<!-- ====== FINAL ====== -->
<section class="final-section">
  <div class="final-text" id="finalText">
    I love you,<br><em>endlessly.</em>
  </div>
  <div class="final-subtext" id="finalSub">today, tomorrow, and every day after ‚ô°</div>
  <div class="big-heart-container" id="bigHeart">
    <svg viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
  </div>
</section>

<script>
// ============ FLOATING HEARTS BACKGROUND ============
function createFloatingHeart() {
  const container = document.getElementById('floatingHearts');
  const heart = document.createElement('div');
  heart.classList.add('floating-heart');

  const colors = ['#f4c2c2', '#e8a0a0', '#c97272', '#d4a574', '#f7d1d1'];
  const size = Math.random() * 18 + 8;
  const left = Math.random() * 100;
  const duration = Math.random() * 12 + 10;
  const delay = Math.random() * 8;
  const color = colors[Math.floor(Math.random() * colors.length)];

  heart.innerHTML = `<svg width="${size}" height="${size}" viewBox="0 0 24 24" fill="${color}"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>`;

  heart.style.left = left + '%';
  heart.style.animationDuration = duration + 's';
  heart.style.animationDelay = delay + 's';

  container.appendChild(heart);

  setTimeout(() => heart.remove(), (duration + delay) * 1000);
}

// Create hearts periodically
setInterval(createFloatingHeart, 1800);
for (let i = 0; i < 6; i++) createFloatingHeart();

// ============ TYPEWRITER EFFECT ============
const letterText = "Every day with you feels like the most beautiful gift. Everyday I wake up with slivers of you from my dreams trapped in my eyes, like they're holding onto the last glimpses of a heavenly vision before I fully wake up. I don't know how you do it, but you make everything ‚Äî every laugh, every quiet moment, every little adventure ‚Äî feel like magic. Thank you for being you, for choosing me, and for making my world so much more wonderful just by being in it! I am constantly reminded of how lucky I am by your precious beauty and every laugh we share drowns out the sounds of everything else. Don't forget I'll never leave your side and I am always here for you i promise nothing can ever keep me from loving you. I can't wait for you to be back, I'm gonna hold u sooo tight my love. I LOVE YOU FOREVERRRR!! Happy valentine's baby <3";

let letterIndex = 0;
let letterStarted = false;

function typeLetter() {
  const body = document.getElementById('letterBody');
  if (letterIndex < letterText.length) {
    body.innerHTML = letterText.slice(0, letterIndex + 1) + '<span class="typewriter"></span>';
    letterIndex++;
    const speed = letterText[letterIndex - 1] === '.' ? 120 :
                  letterText[letterIndex - 1] === ',' ? 80 :
                  letterText[letterIndex - 1] === ' ' ? 30 : 22;
    setTimeout(typeLetter, speed);
  } else {
    body.innerHTML = letterText;
    document.getElementById('letterClosing').classList.add('visible');
  }
}

// ============ SCROLL ANIMATIONS ============
const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      // Reason cards
      if (entry.target.classList.contains('reason-card')) {
        const cards = [...document.querySelectorAll('.reason-card')];
        const idx = cards.indexOf(entry.target);
        setTimeout(() => entry.target.classList.add('visible'), idx * 120);
      }
      // Polaroids
      if (entry.target.classList.contains('polaroid')) {
        const pols = [...document.querySelectorAll('.polaroid')];
        const idx = pols.indexOf(entry.target);
        setTimeout(() => entry.target.classList.add('visible'), idx * 150);
      }
      // Letter typewriter
      if (entry.target.id === 'envelope' && !letterStarted) {
        letterStarted = true;
        setTimeout(typeLetter, 600);
      }
      // Final section
      if (entry.target.id === 'finalText') {
        entry.target.classList.add('visible');
        document.getElementById('finalSub').classList.add('visible');
        document.getElementById('bigHeart').classList.add('visible');
      }
    }
  });
}, { threshold: 0.3 });

document.querySelectorAll('.reason-card').forEach(el => observer.observe(el));
document.querySelectorAll('.polaroid').forEach(el => observer.observe(el));
observer.observe(document.getElementById('envelope'));
observer.observe(document.getElementById('finalText'));

// ============ CARD GLOW FOLLOW ============
document.querySelectorAll('.reason-card').forEach(card => {
  card.addEventListener('mousemove', e => {
    const rect = card.getBoundingClientRect();
    card.style.setProperty('--mx', ((e.clientX - rect.left) / rect.width * 100) + '%');
    card.style.setProperty('--my', ((e.clientY - rect.top) / rect.height * 100) + '%');
  });
});

// ============ CLICK HEARTS ============
document.addEventListener('click', e => {
  const hearts = ['‚ô°', '‚ù§', 'üíï', 'üíó', '‚úø', '‚ô•'];
  const heart = document.createElement('div');
  heart.classList.add('click-heart');
  heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
  heart.style.left = e.clientX - 10 + 'px';
  heart.style.top = e.clientY - 10 + 'px';
  document.body.appendChild(heart);
  setTimeout(() => heart.remove(), 800);
});

// ============ PETAL RAIN (occasional) ============
function createPetal() {
  const petal = document.createElement('div');
  petal.classList.add('petal');
  const size = Math.random() * 12 + 6;
  const colors = ['#f4c2c2', '#f7d1d1', '#fce4e4', '#e8a0a0'];
  petal.style.cssText = `
    left: ${Math.random() * 100}vw;
    top: -20px;
    width: ${size}px;
    height: ${size}px;
    background: ${colors[Math.floor(Math.random() * colors.length)]};
    border-radius: 50% 0 50% 50%;
    transform: rotate(45deg);
    animation-duration: ${Math.random() * 4 + 5}s;
    animation-delay: ${Math.random() * 3}s;
  `;
  document.body.appendChild(petal);
  setTimeout(() => petal.remove(), 9000);
}

// ============ BOUQUET MODAL ============
const bouquetOverlay = document.getElementById('bouquetOverlay');
const bouquetScene = document.getElementById('bouquetScene');
const bouquetClose = document.getElementById('bouquetClose');
const bouquetBackdrop = document.getElementById('bouquetBackdrop');
const flowerPolaroid = document.getElementById('flowerPolaroid');

// SVG flower HEAD generators ‚Äî no stems, just blooms

function svgRose(size, color, innerColor) {
  const cx = size/2, r = size*0.42;
  return `<svg width="${size}" height="${size}" viewBox="0 0 ${size} ${size}" xmlns="http://www.w3.org/2000/svg">
    <path d="M${cx-r*0.4} ${size*0.72} C${cx-r*0.7} ${size*0.8}, ${cx-r*0.2} ${size*0.86}, ${cx} ${size*0.8}" fill="#3d6b2e" opacity="0.55"/>
    <path d="M${cx+r*0.4} ${size*0.72} C${cx+r*0.7} ${size*0.8}, ${cx+r*0.2} ${size*0.86}, ${cx} ${size*0.8}" fill="#4a7a3a" opacity="0.45"/>
    <ellipse cx="${cx}" cy="${cx}" rx="${r}" ry="${r*0.95}" fill="${color}" opacity="0.4"/>
    <path d="M${cx} ${size*0.12} C${cx-r*0.9} ${size*0.12}, ${cx-r} ${size*0.38}, ${cx-r*0.7} ${size*0.55}
      C${cx-r*0.4} ${size*0.68}, ${cx} ${size*0.7}, ${cx} ${size*0.62}
      C${cx} ${size*0.7}, ${cx+r*0.4} ${size*0.68}, ${cx+r*0.7} ${size*0.55}
      C${cx+r} ${size*0.38}, ${cx+r*0.9} ${size*0.12}, ${cx} ${size*0.12}Z" fill="${color}"/>
    <path d="M${cx} ${size*0.22} C${cx-r*0.55} ${size*0.24}, ${cx-r*0.6} ${size*0.42}, ${cx-r*0.35} ${size*0.52}
      C${cx-r*0.1} ${size*0.6}, ${cx} ${size*0.55}, ${cx} ${size*0.55}
      C${cx} ${size*0.55}, ${cx+r*0.1} ${size*0.6}, ${cx+r*0.35} ${size*0.52}
      C${cx+r*0.6} ${size*0.42}, ${cx+r*0.55} ${size*0.24}, ${cx} ${size*0.22}Z" fill="${innerColor}"/>
    <path d="M${cx} ${size*0.32} C${cx-r*0.3} ${size*0.32}, ${cx-r*0.35} ${size*0.44}, ${cx-r*0.12} ${size*0.47}
      C${cx+r*0.08} ${size*0.5}, ${cx+r*0.2} ${size*0.46}, ${cx+r*0.18} ${size*0.4}
      C${cx+r*0.15} ${size*0.36}, ${cx+r*0.05} ${size*0.34}, ${cx} ${size*0.36}Z" fill="${color}" opacity="0.75"/>
    <ellipse cx="${cx}" cy="${size*0.4}" rx="${r*0.13}" ry="${r*0.1}" fill="${innerColor}" opacity="0.65"/>
    <ellipse cx="${cx-r*0.18}" cy="${size*0.3}" rx="${r*0.1}" ry="${r*0.06}" fill="white" opacity="0.12" transform="rotate(-20 ${cx-r*0.18} ${size*0.3})"/>
  </svg>`;
}

function svgTulip(size, color, darkColor) {
  const cx = size/2;
  return `<svg width="${size}" height="${size}" viewBox="0 0 ${size} ${size}" xmlns="http://www.w3.org/2000/svg">
    <path d="M${cx} ${size*0.08} C${cx-size*0.32} ${size*0.08}, ${cx-size*0.42} ${size*0.35},
      ${cx-size*0.32} ${size*0.6} C${cx-size*0.22} ${size*0.78}, ${cx-size*0.05} ${size*0.88}, ${cx} ${size*0.82}Z" fill="${color}"/>
    <path d="M${cx} ${size*0.08} C${cx+size*0.32} ${size*0.08}, ${cx+size*0.42} ${size*0.35},
      ${cx+size*0.32} ${size*0.6} C${cx+size*0.22} ${size*0.78}, ${cx+size*0.05} ${size*0.88}, ${cx} ${size*0.82}Z" fill="${color}"/>
    <path d="M${cx} ${size*0.15} C${cx-size*0.2} ${size*0.18}, ${cx-size*0.25} ${size*0.4},
      ${cx-size*0.15} ${size*0.58} C${cx-size*0.08} ${size*0.68}, ${cx} ${size*0.72}, ${cx} ${size*0.68}Z" fill="${darkColor}" opacity="0.3"/>
    <path d="M${cx+size*0.04} ${size*0.18} C${cx+size*0.16} ${size*0.22}, ${cx+size*0.2} ${size*0.42},
      ${cx+size*0.12} ${size*0.52}Z" fill="white" opacity="0.1"/>
    <ellipse cx="${cx}" cy="${size*0.1}" rx="${size*0.13}" ry="${size*0.04}" fill="${darkColor}" opacity="0.25"/>
  </svg>`;
}

function svgBlossom(size, color, centerColor) {
  const cx = size/2, s = size/100, pr = size*0.22, pd = size*0.2;
  return `<svg width="${size}" height="${size}" viewBox="0 0 ${size} ${size}" xmlns="http://www.w3.org/2000/svg">
    <g transform="translate(${cx},${cx})">
      ${[0,72,144,216,288].map(a=>`<ellipse cx="0" cy="${-pd}" rx="${pr*0.65}" ry="${pr}" fill="${color}" transform="rotate(${a})" opacity="0.85"/>`).join('')}
      ${[36,108,180,252,324].map(a=>`<ellipse cx="0" cy="${-pd*0.8}" rx="${pr*0.45}" ry="${pr*0.8}" fill="${color}" transform="rotate(${a})" opacity="0.45"/>`).join('')}
      <circle cx="0" cy="0" r="${size*0.09}" fill="${centerColor}"/>
      <circle cx="${-2*s}" cy="${-2*s}" r="${2*s}" fill="white" opacity="0.4"/>
    </g>
  </svg>`;
}

function svgSmallBud(size, color) {
  const cx = size/2, s = size/50;
  return `<svg width="${size}" height="${size}" viewBox="0 0 ${size} ${size}" xmlns="http://www.w3.org/2000/svg">
    <path d="M${cx-3*s} ${size*0.65} C${cx-6*s} ${size*0.7}, ${cx-2*s} ${size*0.78}, ${cx} ${size*0.73}" fill="#3d6b2e" opacity="0.5"/>
    <path d="M${cx+3*s} ${size*0.65} C${cx+6*s} ${size*0.7}, ${cx+2*s} ${size*0.78}, ${cx} ${size*0.73}" fill="#4a7a3a" opacity="0.4"/>
    <ellipse cx="${cx}" cy="${size*0.38}" rx="${size*0.26}" ry="${size*0.4}" fill="${color}" opacity="0.85"/>
    <ellipse cx="${cx}" cy="${size*0.3}" rx="${size*0.17}" ry="${size*0.28}" fill="${color}"/>
    <ellipse cx="${cx-1.5*s}" cy="${size*0.24}" rx="${size*0.06}" ry="${size*0.1}" fill="white" opacity="0.12"/>
  </svg>`;
}

// === GATHER POINT: where all stems converge (center of wrap opening) ===
const GATHER_X = 230;
const GATHER_Y = 370;

// Flower data ‚Äî x,y is the BLOOM HEAD top-left position
const bouquetFlowers = [
  // Center roses
  { type:'rose', x:195, y:95, size:78, color:'#b71c1c', inner:'#e53935', delay:0.7 },
  { type:'rose', x:245, y:82, size:82, color:'#c62828', inner:'#ef5350', delay:0.75 },
  { type:'rose', x:165, y:110, size:72, color:'#d32f2f', inner:'#ef9a9a', delay:0.85 },
  { type:'rose', x:275, y:100, size:70, color:'#b71c1c', inner:'#e57373', delay:0.9 },
  // Mid ring
  { type:'rose', x:130, y:120, size:62, color:'#c62828', inner:'#ef5350', delay:1.0 },
  { type:'rose', x:310, y:110, size:65, color:'#b71c1c', inner:'#e53935', delay:1.02 },
  { type:'rose', x:215, y:135, size:58, color:'#d32f2f', inner:'#e57373', delay:1.05 },
  { type:'rose', x:155, y:70, size:55, color:'#c62828', inner:'#ef9a9a', delay:1.08 },
  { type:'rose', x:290, y:65, size:58, color:'#b71c1c', inner:'#ef5350', delay:1.1 },
  // Outer
  { type:'rose', x:100, y:85, size:48, color:'#d32f2f', inner:'#ef9a9a', delay:1.15 },
  { type:'rose', x:340, y:80, size:50, color:'#c62828', inner:'#e57373', delay:1.18 },
  // Tulips
  { type:'tulip', x:80, y:55, size:50, color:'#e84393', dark:'#c2185b', delay:1.2 },
  { type:'tulip', x:365, y:50, size:48, color:'#fd79a8', dark:'#e84393', delay:1.22 },
  { type:'tulip', x:120, y:30, size:46, color:'#ff6b6b', dark:'#c0392b', delay:1.28 },
  { type:'tulip', x:325, y:25, size:44, color:'#e84393', dark:'#ad1457', delay:1.3 },
  { type:'tulip', x:220, y:18, size:46, color:'#ff7979', dark:'#c0392b', delay:1.35 },
  { type:'tulip', x:175, y:25, size:42, color:'#fd79a8', dark:'#c2185b', delay:1.38 },
  { type:'tulip', x:275, y:20, size:44, color:'#e84393', dark:'#ad1457', delay:1.4 },
  { type:'tulip', x:60, y:90, size:42, color:'#ff6b6b', dark:'#d32f2f', delay:1.42 },
  { type:'tulip', x:385, y:85, size:40, color:'#fd79a8', dark:'#e84393', delay:1.44 },
  // Blossoms
  { type:'blossom', x:90, y:22, size:42, color:'#fce4ec', center:'#f8bbd0', delay:1.5 },
  { type:'blossom', x:360, y:18, size:40, color:'#f8bbd0', center:'#f48fb1', delay:1.52 },
  { type:'blossom', x:50, y:65, size:36, color:'#fce4ec', center:'#e8a0a0', delay:1.55 },
  { type:'blossom', x:400, y:60, size:34, color:'#f8bbd0', center:'#f48fb1', delay:1.58 },
  { type:'blossom', x:155, y:8, size:38, color:'#fce4ec', center:'#f8bbd0', delay:1.6 },
  { type:'blossom', x:295, y:5, size:36, color:'#fff0f3', center:'#f4c2c2', delay:1.62 },
  { type:'blossom', x:110, y:5, size:34, color:'#fce4ec', center:'#f8bbd0', delay:1.64 },
  { type:'blossom', x:340, y:2, size:35, color:'#f8bbd0', center:'#f48fb1', delay:1.66 },
  // Buds
  { type:'bud', x:42, y:42, size:26, color:'#c0392b', delay:1.35 },
  { type:'bud', x:410, y:38, size:24, color:'#e84393', delay:1.38 },
  { type:'bud', x:98, y:-5, size:22, color:'#ff6b6b', delay:1.45 },
  { type:'bud', x:350, y:-8, size:22, color:'#fd79a8', delay:1.48 },
  { type:'bud', x:200, y:0, size:22, color:'#d32f2f', delay:1.55 },
  { type:'bud', x:255, y:-5, size:24, color:'#c0392b', delay:1.58 },
];

// Leaves around the wrap opening
const bouquetLeaves = [
  { x:100, y:295, w:55, h:28, rot:-50, delay:0.45 },
  { x:320, y:290, w:55, h:28, rot:45, delay:0.5 },
  { x:68,  y:260, w:48, h:24, rot:-65, delay:0.55 },
  { x:352, y:255, w:48, h:24, rot:60, delay:0.6 },
  { x:145, y:315, w:45, h:22, rot:-30, delay:0.65 },
  { x:280, y:312, w:45, h:22, rot:26, delay:0.68 },
  { x:48,  y:225, w:40, h:20, rot:-75, delay:0.72 },
  { x:382, y:220, w:40, h:20, rot:70, delay:0.75 },
  { x:192, y:325, w:42, h:20, rot:-12, delay:0.78 },
  { x:248, y:322, w:42, h:20, rot:10, delay:0.8 },
];

// Sparkles
const sparklePositions = [
  { x:130, y:55, delay:2.5 }, { x:320, y:50, delay:2.8 },
  { x:80, y:100, delay:3.0 }, { x:370, y:95, delay:2.7 },
  { x:220, y:25, delay:3.2 }, { x:170, y:75, delay:2.9 },
  { x:285, y:70, delay:3.1 }, { x:105, y:20, delay:3.3 },
  { x:345, y:15, delay:2.6 }, { x:210, y:120, delay:3.0 },
  { x:55, y:55, delay:3.4 }, { x:395, y:50, delay:2.9 },
];

function randomBurstPetals() {
  const petals = [];
  const colors = ['#f4c2c2','#e74c3c','#f8bbd0','#fce4ec','#fd79a8','#ff6b6b','#d4a574','#c62828'];
  for (let i = 0; i < 22; i++) {
    const angle = (Math.PI*2/22)*i + (Math.random()-0.5)*0.5;
    const dist = 110 + Math.random()*180;
    petals.push({ tx:Math.cos(angle)*dist, ty:Math.sin(angle)*dist-40,
      tr:(Math.random()-0.5)*720, size:8+Math.random()*12,
      color:colors[Math.floor(Math.random()*colors.length)], delay:0.3+Math.random()*0.5 });
  }
  return petals;
}

// Bezier stem from bloom to gather point
function stemPath(bx, by, gx, gy) {
  const dx = bx - gx;
  const dy = gy - by;
  // Curve outward slightly then converge
  const cp1x = bx + dx * 0.08;
  const cp1y = by + dy * 0.35;
  const cp2x = gx + dx * 0.25;
  const cp2y = gy - dy * 0.2;
  return `M${bx},${by} C${cp1x},${cp1y} ${cp2x},${cp2y} ${gx},${gy}`;
}

function buildBouquet() {
  bouquetScene.innerHTML = '';

  // --- Burst petals ---
  randomBurstPetals().forEach(p => {
    const el = document.createElement('div');
    el.className = 'burst-petal';
    el.style.cssText = `left:calc(50% - ${p.size/2}px); top:45%;
      width:${p.size}px; height:${p.size}px; background:${p.color};
      --tx:${p.tx}px; --ty:${p.ty}px; --tr:${p.tr}deg; --delay:${p.delay}s;`;
    bouquetScene.appendChild(el);
  });

  // --- Layer 1: ALL stems on one shared SVG ---
  const NS = 'http://www.w3.org/2000/svg';
  const stemSvg = document.createElementNS(NS, 'svg');
  stemSvg.setAttribute('viewBox', '0 0 460 560');
  stemSvg.style.cssText = 'position:absolute;inset:0;width:100%;height:100%;z-index:1;';

  const stemColors = ['#3d6b2e','#4a7a3a','#3a6528','#4d8040'];

  bouquetFlowers.forEach((f, i) => {
    const bloomCX = f.x + f.size/2;
    const bloomBY = f.y + f.size * 0.85;
    const col = stemColors[i % stemColors.length];
    const w = (f.type==='blossom'||f.type==='bud') ? 2 : 2.8;

    const p = document.createElementNS(NS, 'path');
    p.setAttribute('d', stemPath(bloomCX, bloomBY, GATHER_X, GATHER_Y));
    p.setAttribute('stroke', col);
    p.setAttribute('stroke-width', w);
    p.setAttribute('fill', 'none');
    p.setAttribute('stroke-linecap', 'round');
    p.setAttribute('opacity', '0.8');
    stemSvg.appendChild(p);

    // Stem leaves
    if (f.type === 'rose' || f.type === 'tulip') {
      const t = 0.4 + Math.random()*0.15;
      const mx = bloomCX + (GATHER_X - bloomCX)*t;
      const my = bloomBY + (GATHER_Y - bloomBY)*t;
      const side = (f.x < GATHER_X) ? -1 : 1;
      const ang = side * (30 + Math.random()*20);
      const leaf = document.createElementNS(NS, 'ellipse');
      leaf.setAttribute('cx', mx + side*12);
      leaf.setAttribute('cy', my - 2);
      leaf.setAttribute('rx', '12');
      leaf.setAttribute('ry', '4.5');
      leaf.setAttribute('fill', '#4a7a3a');
      leaf.setAttribute('opacity', '0.5');
      leaf.setAttribute('transform', `rotate(${ang} ${mx+side*12} ${my-2})`);
      stemSvg.appendChild(leaf);
    }
  });
  bouquetScene.appendChild(stemSvg);

  // --- Layer 2: Wrapping paper (z-index 2, covers stem bottoms) ---
  const wrap = document.createElement('div');
  wrap.className = 'bouquet-wrap';
  wrap.innerHTML = `<div class="wrap-body">
    <svg viewBox="0 0 320 240" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <linearGradient id="wg" x1="0" y1="0" x2="1" y2="0">
          <stop offset="0%" stop-color="#ecc0c0"/>
          <stop offset="35%" stop-color="#f5d4d4"/>
          <stop offset="55%" stop-color="#f7d9d9"/>
          <stop offset="100%" stop-color="#e8b8b8"/>
        </linearGradient>
        <linearGradient id="rg" x1="0" y1="0" x2="1" y2="1">
          <stop offset="0%" stop-color="#c9956a"/>
          <stop offset="50%" stop-color="#d4a574"/>
          <stop offset="100%" stop-color="#c08050"/>
        </linearGradient>
      </defs>
      <!-- Cone -->
      <path d="M48 22 L12 222 C10 232, 18 238, 28 238 L292 238 C302 238, 310 232, 308 222 L272 22Z"
        fill="url(#wg)" stroke="#daa8a8" stroke-width="0.8"/>
      <path d="M48 22 L12 222 C10 232, 18 238, 28 238 L160 238 L160 22Z" fill="#edbdbd" opacity="0.2"/>
      <path d="M200 28 L192 228 L248 230 L255 30Z" fill="white" opacity="0.05"/>
      <!-- Folds -->
      <path d="M72 40 L38 225" stroke="#daa8a8" stroke-width="0.5" opacity="0.2"/>
      <path d="M120 26 L102 232" stroke="#daa8a8" stroke-width="0.4" opacity="0.15"/>
      <path d="M160 22 L158 235" stroke="#daa8a8" stroke-width="0.35" opacity="0.12"/>
      <path d="M200 24 L210 232" stroke="#daa8a8" stroke-width="0.4" opacity="0.15"/>
      <path d="M248 40 L278 225" stroke="#daa8a8" stroke-width="0.5" opacity="0.2"/>
      <!-- Gather line -->
      <path d="M48 22 L272 22" stroke="#c9956a" stroke-width="3" fill="none" stroke-linecap="round"/>
      <path d="M44 31 C95 24, 225 24, 276 31" stroke="#daa8a8" stroke-width="0.8" fill="none" opacity="0.4"/>
      <!-- Tissue -->
      <path d="M35 24 C46 -4, 68 10, 85 -4 C98 -12, 115 8, 132 -6 C148 -14, 162 5, 175 -8
        C190 5, 205 -12, 220 -2 C235 10, 252 -5, 262 2 C272 10, 282 0, 285 24Z"
        fill="#fff8f5" opacity="0.7" stroke="#f0d0d0" stroke-width="0.4"/>
      <path d="M42 24 C54 4, 75 14, 95 4 C112 -4, 125 14, 145 4 C160 -3, 175 12, 195 4
        C210 12, 225 0, 242 8 C255 14, 268 4, 278 24Z"
        fill="#fff2ef" opacity="0.45" stroke="#f4c2c2" stroke-width="0.3"/>
      <!-- Ribbon band -->
      <rect x="110" y="8" width="100" height="26" rx="5" fill="url(#rg)" opacity="0.65"/>
      <rect x="110" y="8" width="100" height="13" rx="5" fill="white" opacity="0.08"/>
      <!-- Bow -->
      <path d="M160 8 C145 -8, 108 -14, 100 -2 C92 10, 110 20, 130 15 C142 12, 152 10, 160 8Z"
        fill="#d4a574" opacity="0.7" stroke="#c08050" stroke-width="0.5"/>
      <path d="M160 8 C175 -8, 212 -14, 220 -2 C228 10, 210 20, 190 15 C178 12, 168 10, 160 8Z"
        fill="#d4a574" opacity="0.7" stroke="#c08050" stroke-width="0.5"/>
      <ellipse cx="160" cy="8" rx="9" ry="7" fill="#c9956a"/>
      <ellipse cx="159" cy="7" rx="4" ry="3" fill="#d4a574" opacity="0.5"/>
      <!-- Tails -->
      <path d="M152 34 C145 52, 122 65, 112 74" stroke="#c9956a" stroke-width="2.5" fill="none" stroke-linecap="round" opacity="0.55"/>
      <path d="M168 34 C175 52, 198 65, 208 74" stroke="#c9956a" stroke-width="2.5" fill="none" stroke-linecap="round" opacity="0.55"/>
      <!-- Bottom shadow -->
      <path d="M28 234 C100 240, 220 240, 292 234" stroke="#d09090" stroke-width="0.8" fill="none" opacity="0.22"/>
    </svg>
  </div>`;
  bouquetScene.appendChild(wrap);

  // --- Layer 3: Leaves ---
  bouquetLeaves.forEach(l => {
    const el = document.createElement('div');
    el.className = 'bouquet-leaf';
    el.style.cssText = `left:${l.x}px; top:${l.y}px; --rot:${l.rot}deg; --delay:${l.delay}s; z-index:3;`;
    el.innerHTML = `<svg width="${l.w}" height="${l.h}" viewBox="0 0 55 28" xmlns="http://www.w3.org/2000/svg">
      <path d="M2 14 C8 4, 25 0, 53 14 C25 28, 8 24, 2 14Z" fill="#4a7a3a" opacity="0.7"/>
      <path d="M2 14 C15 10, 35 9, 53 14" stroke="#3d6b2e" stroke-width="0.8" fill="none" opacity="0.6"/>
    </svg>`;
    bouquetScene.appendChild(el);
  });

  // --- Layer 4: Flower heads (z-index 5) ---
  bouquetFlowers.forEach(f => {
    const el = document.createElement('div');
    el.className = 'bouquet-flower';
    el.style.cssText = `left:${f.x}px; top:${f.y}px; --rot:0deg; --delay:${f.delay}s; z-index:5;`;
    let html = '';
    if (f.type === 'rose') html = svgRose(f.size, f.color, f.inner);
    else if (f.type === 'tulip') html = svgTulip(f.size, f.color, f.dark);
    else if (f.type === 'blossom') html = svgBlossom(f.size, f.color, f.center);
    else if (f.type === 'bud') html = svgSmallBud(f.size, f.color);
    el.innerHTML = html;
    bouquetScene.appendChild(el);
    setTimeout(() => el.classList.add('bloomed'), (f.delay + 1) * 1000);
  });

  // --- Layer 5: Sparkles ---
  sparklePositions.forEach(s => {
    const el = document.createElement('div');
    el.className = 'bouquet-sparkle';
    el.style.cssText = `left:${s.x}px; top:${s.y}px; --delay:${s.delay}s; z-index:6;`;
    bouquetScene.appendChild(el);
  });
}


function openBouquet(e) {
  e.stopPropagation();
  buildBouquet();
  bouquetOverlay.classList.add('active');
  document.body.style.overflow = 'hidden';
}

function closeBouquet(e) {
  e.stopPropagation();
  bouquetOverlay.classList.remove('active');
  document.body.style.overflow = '';
}

flowerPolaroid.addEventListener('click', openBouquet);
bouquetClose.addEventListener('click', closeBouquet);
bouquetBackdrop.addEventListener('click', closeBouquet);

// Close with Escape key
document.addEventListener('keydown', e => {
  if (e.key === 'Escape' && bouquetOverlay.classList.contains('active')) {
    closeBouquet(e);
  }
});

// ============ VINYL PLAYER ============
const vinylPlayer = document.getElementById('vinylPlayer');
const vinylRecord = document.getElementById('vinylRecord');
const tonearm = document.getElementById('tonearm');
const playBtn = document.getElementById('playBtn');
const playIcon = document.getElementById('playIcon');
const pauseIcon = document.getElementById('pauseIcon');
const songAudio = document.getElementById('songAudio');
const songInfo = document.getElementById('songInfo');
const songDedication = document.getElementById('songDedication');

let isPlaying = false;

playBtn.addEventListener('click', (e) => {
  e.stopPropagation();
  if (isPlaying) {
    songAudio.pause();
    vinylRecord.classList.add('paused');
    tonearm.classList.remove('playing');
    playIcon.style.display = '';
    pauseIcon.style.display = 'none';
    isPlaying = false;
  } else {
    songAudio.play().then(() => {
      vinylRecord.classList.add('spinning');
      vinylRecord.classList.remove('paused');
      tonearm.classList.add('playing');
      playIcon.style.display = 'none';
      pauseIcon.style.display = '';
      isPlaying = true;
    }).catch(() => {

      vinylRecord.classList.add('spinning');
      vinylRecord.classList.remove('paused');
      tonearm.classList.add('playing');
      playIcon.style.display = 'none';
      pauseIcon.style.display = '';
      isPlaying = true;
    });
  }
});

// Scroll trigger for vinyl section
const vinylObserver = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      vinylPlayer.classList.add('visible');
      songInfo.classList.add('visible');
      songDedication.classList.add('visible');
    }
  });
}, { threshold: 0.3 });

vinylObserver.observe(vinylPlayer);

setInterval(() => { for (let i = 0; i < 2; i++) createPetal(); }, 3000);
</script>

</body>
</html>
